
DROP DATABASE IF EXISTS `expresify`;
CREATE DATABASE `expresify`;
USE `expresify`;


DROP TABLE IF EXISTS `products`;
CREATE TABLE `products` (
   `id` INT NOT NULL AUTO_INCREMENT,
   `productName` VARCHAR(255) NOT NULL,
   `description` VARCHAR(255) NOT NULL,
   `category_id` INT NOT NULL,
   `size_id` INT NOT NULL,
   `price` INT NOT NULL,
   `productImage` VARCHAR(255) NOT NULL,
   `user_id` INT NOT NULL,
   PRIMARY KEY (`id`)
);

INSERT INTO `products` VALUES (1,'Café Molido 1kg - Blend Moka frutado','pack 1kg, ideal para los amantes de un sabor intenso y aromático.',1,3,26700,'productImage-1704939556310.jpg', 1);

DROP TABLE IF EXISTS `categories`;
CREATE TABLE `categories` (
   `id` INT AUTO_INCREMENT,
   `category` VARCHAR(255) NOT NULL,
   PRIMARY KEY (`id`)
);


INSERT INTO `categories` VALUES (1,'Tecnologia'),(2,'Electrodomesticos'),(3,'Hogar'),(4,'Deportes'),(5,'Belleza'),(6,'Herramientas');


DROP TABLE IF EXISTS `sizes`;
CREATE TABLE `sizes` (
   `id` INT AUTO_INCREMENT,
   `size` VARCHAR(255),
   PRIMARY KEY (`id`)
);


INSERT INTO `sizes` VALUES (1,'Pequeño'),(2,'Mediano'),(3,'Grande');



DROP TABLE IF EXISTS `users`;
CREATE TABLE `users` (
   `id` INT AUTO_INCREMENT,
   `name` VARCHAR(255) NOT NULL,
   `lastName` VARCHAR(255) NOT NULL,
   `email` VARCHAR(255) NOT NULL,
   `password`  varchar(255) NOT NULL,
   `userRole_id` INT NOT NULL,
   `avatar` VARCHAR(255),
   `country` VARCHAR(255) NOT NULL,
   PRIMARY KEY (`id`)
);

/*!40000 ALTER TABLE `users` DISABLE KEYS */;
INSERT INTO `users` VALUES (1,'Jose','Aguilar','jaguilar@gmail.com','qwewe',2,'1706825624168_img.png', 'Colombia');


DROP TABLE IF EXISTS `userRole`;
CREATE TABLE `userRole` (
   `id` INT NOT NULL AUTO_INCREMENT,
   `userRole` VARCHAR(255) NOT NULL,
   PRIMARY KEY (`id`)
);


INSERT INTO `userRole` VALUES (1,'administrador'),(2,'Dropshipper'),(3,'Importador/Exportador');


ALTER TABLE `products` ADD CONSTRAINT `FK_8f6dc91f-702d-442e-accc-4c549825f034` FOREIGN KEY (`category_id`) REFERENCES `categories`(`id`)  ;

ALTER TABLE `products` ADD CONSTRAINT `FK_2084a21f-fe46-4e53-963c-b8794e93214c` FOREIGN KEY (`size_id`) REFERENCES `sizes`(`id`)  ;

ALTER TABLE `products` ADD CONSTRAINT `FK_961b2485-38e1-453b-87d4-d7f77deaaad5` FOREIGN KEY (`user_id`) REFERENCES `users`(`id`)  ;

ALTER TABLE `users` ADD CONSTRAINT `FK_6e115883-7523-4abc-9819-0a4ee923c2b8` FOREIGN KEY (`userRole_id`) REFERENCES `userRole`(`id`)  ;
